{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","pages/child/controller/actions.ts","pages/child/index.tsx"],"names":["_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","__webpack_require__","d","__webpack_exports__","bindActionCreators","getList","type","t","getListSuccess","data","mockData","name","concat","age","comment","payload","getListFailure","error","store","dispatch","Other","props","console","log","react","Nested","Tool","tool","Children","_React$useState","React","_React$useState2","Object","slicedToArray","setName","_React$useState3","_React$useState4","setTool","onClick","toolComponent","children","Child","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onAddList","Date","toLocaleString","actions","state","prevProps","prevState","snapshot","list","map","item","index","key","connect","child"],"mappings":"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","file":"static/js/17.80c909f9.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import * as t from './type'\nimport { bindActionCreators } from 'redux'\nimport store from '../../../store'\n\nconst getList = () => {\n    return {\n        type: t.GET_LIST\n    }\n}\nconst getListSuccess = (data: any) => {\n    const mockData = []\n    while(mockData.length < 10000) {\n        mockData.push({\n            name: `monkey${++mockData.length}`,\n            age: mockData.length,\n            comment: `这是第${mockData.length}条评论`\n        })\n    }\n    return {\n        type: t.GET_LIST_SUCCESS,\n        payload: mockData\n    }\n}\nconst getListFailure = (error: any) => {\n    return {\n        type: t.GET_LIST_FAILURE,\n        payload: error\n    }\n}\n\nexport default bindActionCreators({\n    getList,\n    getListSuccess,\n    getListFailure\n}, store.dispatch)\n\n","import * as React from 'react'\nimport { connect } from 'react-redux'\nimport actions from './controller/actions'\n\ninterface IOtherProps { }\nfunction Other(props: IOtherProps) {\n\tconsole.log('other-render==========')\n\treturn (\n\t\t<div>\n\t\t\tother\n\t\t</div>\n\t)\n}\ninterface INestedProps {\n\tname: string\n}\nfunction Nested(props: INestedProps) {\n\tconsole.log('nested-render==========')\n\treturn (\n\t\t<div>\n\t\t\t{\n\t\t\t\tprops.name\n\t\t\t}\n\t\t</div>\n\t)\n}\ninterface IToolProps {\n\ttool: string\n}\nfunction Tool(props: IToolProps) {\n\tconsole.log('tool-render==========', props.tool)\n\treturn (\n\t\t<div>\n\t\t\t{\n\t\t\t\tprops.tool\n\t\t\t}\n\t\t</div>\n\t)\n}\ninterface IChildrenProps {\n\tchildren: any\n\ttoolComponent: any\n\tname: string\n}\nfunction Children(props: IChildrenProps) {\n\tconsole.log('children-render==========')\n\tconst [name, setName] = React.useState('monkey')\n\tconst [tool, setTool] = React.useState('tool')\n\treturn (\n\t\t<div>\n\t\t\t<button onClick={() => setName('cat')}>\n\t\t\t\tchange name\n\t\t\t</button>\n\t\t\t<button onClick={() => setTool('too-cat')}>\n\t\t\t\tchange tool\n\t\t\t</button>\n\t\t\t<Tool tool={tool} />\n\t\t\t<Other />\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\tname\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t{\n\t\t\t\t\tprops.toolComponent\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<h1>children</h1>\n\t\t\t\t{\n\t\t\t\t\t// React.cloneElement(props.children, {name: name})\n\t\t\t\t\tprops.children\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\ninterface IProps {\n\tlist: any[]\n}\ninterface IState { }\nclass Child extends React.Component<IProps, IState> {\n\tconstructor(props: IProps) {\n\t\tsuper(props)\n\t\tthis.state = {}\n\t}\n\tstatic getStateFromDerivedProps(props: IProps, state: IState) {\n\t\treturn null\n\t}\n\tcomponentDidMount() {\n\t}\n\tshouldComponentUpdate() {\n\t\treturn true\n\t}\n\tgetSnapshotBeforeUpdate(prevProps: IProps, prevState: IState) {\n\t\treturn null\n\t}\n\tcomponentDidUpdate(prevProps: IProps, prevState: IState, snapshot: any) {\n\n\t}\n\tonAddList = () => {\n\t\tconsole.log(\"addTime===>\", new Date().toLocaleString())\n\t\tactions.getListSuccess({})\n\t}\n\trender() {\n\t\tconsole.log(\"beigin render=====>\", new Date().toLocaleString())\n\t\tconsole.log('child-render======', <div />)\n\t\t/*\n\t\t\t<div /> === React.createElement('div') ===执行后，返回一个ReactElement对象===>\n\t\t\t{\n\t\t\t\t$$typeof: Symbol('react.element'),\n\t\t\t\ttype: 'div',\n\t\t\t\tkey: null,\n\t\t\t\tref: null,\n\t\t\t\tprops: {},\n\t\t\t\t_owner: FiberNode {},\n\t\t\t\t_store: {},\n\t\t\t\t_self: null,\n\t\t\t\t_source: {},\n\t\t\t\t__proto__: Object\n\t\t\t }\n\t\t*/\n\t\tconsole.log('child-render-create======', React.createElement('div'))\n\t\tconsole.log('child-render==========', <Children name={'monkey'} toolComponent={<Tool tool={'tool component position'} />}>\n\t\t\t<Nested name={'nested'} />\n\t\t</Children>)\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Children name={'123'} toolComponent={<Tool tool={'tool component position'} />}>\n\t\t\t\t\t<Nested name={'nested'} />\n\t\t\t\t</Children>\n\t\t\t\t<div>\n\t\t\t\t\t<button onClick={this.onAddList}>\n\t\t\t\t\t\tadd list\n\t\t\t\t\t</button>\n\t\t\t\t\t<span>\n\t\t\t\t\t\tlist\n\t\t\t\t</span>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.list.map((item, index) => {\n\t\t\t\t\t\t\treturn <div key={index}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\titem.name\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\titem.age\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\titem.comment\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\nfunction mapStateToProps(state: any) {\n\tconst { child } = state\n\treturn child\n}\nexport default connect(mapStateToProps)(Child)\n/**\n * 可以理解children就是props，props并没有变更，故不update\n *\n * tree diff\n * component diff\n * element diff\n *\n * 关于React.createElement(component, props, children):ReactElement\n * <Child /> ===> React.createElement('Child', {})\n *\n * <Container>\n * \t\t<Child />\n * </Container>\n * ===> React.createElement('Container', {}, React.createElement('Child', {}, {}))\n * ===>{\n * \ttype: Container,\n * \tprops: {\n * \t\tchildren: {\n * \t\t\ttype: Child,\n * \t\t\tprops: {},\n * \t\t\tchildren: {}\n * \t\t}\n * \t}\n * }\n */"],"sourceRoot":""}